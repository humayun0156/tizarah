@()

@main("Transaction") {
  <div class="container-fluid">

    <div class="row">
      <div class="col-lg-12">
        <h1 class="page-header">Transaction</h1>
      </div>
    </div>

    <div class="row" data-ng-controller="accountHeadCtrl">
      <div class="col-lg-12">
          <!-- Alert messages -->
        <div ng-repeat="alert in alerts">
          <notification ng-model="alert"></notification>
        </div>

        <div class="panel panel-default">

          <form role="form" id="newTransaction" data-ng-submit="addTransaction()" accept-charset="utf-8">
            <div class="panel-body">

              <div class="form-group">
                <label for="headAcc">Head Account: </label>
                <select id="headAcc" class="form-control" data-ng-model="selectedOption" data-ng-change="getAccountsByHeadId(selectedOption)" required>
                  <option data-ng-repeat="head in accountHeads" value="{{head.id}}">{{head.name}}</option>
                </select>
              </div>

              <div class="form-group">
                <label for="subAcc">Account: </label>
                <select id="subAcc" class="form-control" data-ng-model="newTransaction.accountId" required>
                  <option data-ng-repeat="acc in subAccounts" value="{{acc.id}}">{{acc.name}}, {{acc.phoneNumber}}, {{acc.address}}</option>
                </select>
              </div>

              <div class="form-group">
                <label for="datepicker">Date: </label>
                <input type="text" data-ng-model="newTransaction.date" id="datepicker" readonly required>
              </div>

              <div class="form-group">
                <label for="type">Transaction Type: </label>
                <select id="type" data-ng-model="newTransaction.transactionType" required>
                  <option value="debit">Debit</option>
                  <option value="credit">Credit</option>
                </select>
              </div>

              <div class="panel panel-default">

                <div class="table-responsive">
                  <table class="table table-striped table-bordered table-hover">
                    <thead>
                      <tr>
                        <th>Description</th>
                        <th>Amount</th>
                      </tr>
                    </thead>
                    <tfoot>
                      <tr >
                        <td colspan="2">In word: </td>
                      </tr>
                    </tfoot>
                    <tbody>
                      <tr>
                        <td>
                          <textarea class="form-control" data-ng-model="newTransaction.description" rows="3" required></textarea>
                        </td>
                        <td>
                          <input type="number" data-ng-model="newTransaction.amount" required step="0.0001">
                        </td>
                      </tr>
                    </tbody>

                  </table>
                </div>
                  <!-- /.table-responsive -->
              </div>
              <button type="submit" data-ng-disabled="newTransaction.$invalid" id="submit" class="btn btn-primary">Create</button>
            </div>
          </form>

        </div>
      </div>
    </div>


  </div>






}